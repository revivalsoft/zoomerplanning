{#
  Zoomerplanning - Logiciel de gestion des ressources humaines
  Copyright (C) 2025 RevivalSoft
  
  Ce programme est un logiciel libre ; vous pouvez le redistribuer et/ou
  le modifier selon les termes de la Licence Publique GÃ©nÃ©rale GNU publiÃ©e
  par la Free Software Foundation Version 3.
  
  Ce programme est distribuÃ© dans l'espoir qu'il sera utile,
  mais SANS AUCUNE GARANTIE ; sans mÃªme la garantie implicite de
  COMMERCIALISATION ou Dâ€™ADÃ‰QUATION Ã€ UN BUT PARTICULIER. Voir la
  Licence Publique GÃ©nÃ©rale GNU pour plus de dÃ©tails.
  
  Vous devriez avoir reÃ§u une copie de la Licence Publique GÃ©nÃ©rale GNU
  avec ce programme ; si ce n'est pas le cas, voir
  https://www.gnu.org/licenses/
#}

{% extends 'base_user.html.twig' %}

{% block body %}
	<div class="container py-5">
		<h1 class="text-center fw-bold mb-5">ðŸ“Š Tableau de bord OKR</h1>

		<div class="card shadow-sm">
			<div class="card-body p-0">
				<table class="table table-hover align-middle mb-0">
					<thead class="table-primary text-center">
						<tr>
							<th>ðŸŽ¯ Objectif</th>
							<th>ðŸ“… Dates</th>
							<th>ðŸ“ˆ Progression moyenne</th>
							<th>DÃ©tails</th>
						</tr>
					</thead>
					<tbody>
						{% for entry in dashboard_data %}
							<tr>
								<td class="fw-semibold">{{ entry.objective.title }}</td>
								<td class="text-muted">
									{{ entry.objective.startDate|date('d/m/Y') }}
									â†’
									{{ entry.objective.endDate|date('d/m/Y') }}
								</td>
								<td>
									<div class="progress" style="height: 25px;">
										<div class="progress-bar {% if entry.average_progress >= 80 %}
																																						bg-success
																																					{% elseif entry.average_progress >= 50 %}
																																						bg-warning
																																					{% else %}
																																						bg-danger
																																					{% endif %}" role="progressbar" style="width: {{ entry.average_progress }}%;">
											{{ entry.average_progress }}%
										</div>
									</div>
								</td>
								<td class="text-center">
									<a href="{{ path('objective_public_show', {id: entry.objective.id}) }}" class="btn btn-sm btn-outline-primary">
										<i class="bi bi-eye"></i>
										Voir
									</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="4" class="text-center text-muted py-3">
									Aucun objectif dÃ©fini pour le moment.
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
{% endblock %}
